#!/usr/bin/env sh

mem_usage() {
    local type="${1:-free}"
    
    if [[ "$type" == "free" ]]; then
        free -b | awk 'NR==2 {printf "%dMB\n", ($7)/1024/1024}'
    elif [[ "$type" == "used" ]]; then
        free -b | awk 'NR==2 {printf "%dMB\n", ($3)/1024/1024}'
    else
        echo "Usage: mem_usage [free|used]"
        return 1
    fi
}

echo "f:`mem_usage free` u:`mem_usage used`"
